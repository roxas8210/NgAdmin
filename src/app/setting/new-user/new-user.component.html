<h1>新增用户</h1>
<form nz-form [formGroup]="userForm" (ngSubmit)="submitForm($event,userForm.value)" >
  <div nz-form-item nz-row>
    <div nz-form-label nz-col [nzSpan]="7">
      <label nz-form-item-required>用户名</label>
    </div>
    <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
      <nz-input formControlName="username" 
      [nzType]="'text'" 
      [nzPlaceHolder]="'async validate try to write JasonWood'" 
      [nzSize]="'large'">
      </nz-input>
      <div nz-form-explain *ngIf="getFormControl('username').dirty&&getFormControl('username').hasError('required')">Please input your username!</div>
      <div nz-form-explain *ngIf="getFormControl('username').dirty&&getFormControl('username').hasError('duplicated')">The username is redundant!</div>
      <div nz-form-explain *ngIf="getFormControl('username').dirty&&getFormControl('username').pending">Validating...</div>
    </div>
  </div>
  <div nz-form-item nz-row>
    <div nz-form-label nz-col [nzSpan]="7">
      <label nz-form-item-required>部门</label>
    </div>
    <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
      <nz-select style="width: 220px;" 
      formControlName="department" 
      [nzPlaceHolder]="'choose option'" 
      nzAllowClear>
        <nz-option *ngFor="let option of depart" [nzLabel]="option.label" [nzValue]="option.value" [nzDisabled]="option.disabled">
        </nz-option>
      </nz-select>
    </div>
  </div>
  <div nz-form-item nz-row>
    <div nz-form-label nz-col [nzSpan]="7">
      <label nz-form-item-required>职别</label>
    </div>
    <div nz-col [nzSpan]="12" nz-form-control nzHasFeedback>
      <nz-select style="width: 220px;" 
      formControlName="role" 
      [nzPlaceHolder]="'choose option'" 
      nzAllowClear>
        <nz-option *ngFor="let role of roles" [nzLabel]="role.label" [nzValue]="role.value" [nzDisabled]="role.disabled">
        </nz-option>
      </nz-select>
    </div>
  </div>
  <div nz-form-item nz-row>
    <div nz-col [nzOffset]="7" [nzSpan]="12" nz-form-control>
      <button nz-button 
      [nzType]="'primary'" 
      [nzSize]="'large'" 
      [disabled]="!userForm.valid"
      type="submit"
      >提交</button>
      <!-- <button nz-button 
      [nzSize]="'large'" 
      (click)="resetForm($event)"
      >重置</button> -->
    </div>
  </div>
</form>